{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\salah\\\\Desktop\\\\abdos-2018\\\\FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\salah\\\\Desktop\\\\abdos-2018\\\\FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\salah\\\\Desktop\\\\abdos-2018\\\\FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\salah\\\\Desktop\\\\abdos-2018\\\\FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\salah\\\\Desktop\\\\abdos-2018\\\\FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\salah\\\\Desktop\\\\abdos-2018\\\\FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\salah\\\\Desktop\\\\abdos-2018\\\\FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\salah\\\\Desktop\\\\abdos-2018\\\\FrontEnd\\\\src\\\\components\\\\register\\\\register.js\";\nimport React, { Component } from \"react\";\nimport \"./register.css\"; //regular expression\n\nvar passwordRegex = RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#%^&*.])(?=.{8,})/);\nvar emailRegex = RegExp(/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/);\n\nvar formValid = function formValid(formErrors) {\n  var valid = true; // check if theres as value in form error \n\n  Object.values(formErrors).forEach(function (val) {\n    if (val.length > 0) {\n      valid = false;\n    }\n  });\n  return valid;\n};\n\nvar Register =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Register, _Component);\n\n  function Register(props) {\n    var _this;\n\n    _classCallCheck(this, Register);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Register).call(this, props));\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n      var len = _this.props.check.length;\n      var formErrors = _this.state.formErrors;\n      var regDetails = [{\n        firstName: _this.state.firstName,\n        surname: _this.state.surname,\n        email: _this.state.email,\n        username: _this.state.username,\n        password: _this.state.password\n      }]; //sumbits registration details\n\n      if (formValid(_this.state.formErrors)) {\n        console.log(_this.props.check[0].username);\n\n        for (var i = 0; i < len; i++) {\n          if (_this.props.check[i].username === _this.state.username) {\n            formErrors.username = \"This username aleady exist\";\n          }\n\n          if (_this.props.check[i].email === _this.state.email) {\n            formErrors.email = \"User already exist with this email\";\n          } else {\n            console.log(regDetails);\n\n            _this.props.onRegister(regDetails);\n          }\n        }\n      }\n\n      _this.setState({\n        formErrors: formErrors\n      });\n    };\n\n    _this.handleChange = function (event) {\n      event.preventDefault();\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n      var formErrors = _this.state.formErrors;\n\n      switch (name) {\n        case 'firstName':\n          formErrors.firstName = value.length === 0 ? ' Please enter your first name ' : \"\";\n          break;\n\n        case 'surname':\n          formErrors.surname = value.length === 0 ? ' Please enter your surname ' : \"\";\n          break;\n\n        case 'email':\n          formErrors.email = emailRegex.test(value) ? '' : \"Please enter your email\";\n          break;\n\n        case 'username':\n          formErrors.username = value.length < 5 ? ' Username must be greater than 5 characters ' : \"\";\n          break;\n\n        case 'password':\n          formErrors.password = passwordRegex.test(value) ? '' : \" Password must contain 1 upper case, 1 lower case , 1 number, 1 special character and must be greater than 8 \";\n          break;\n\n        case 'confirmPassword':\n          formErrors.confirmPassword = value === _this.state.password ? '' : \"Your passwords do not match \";\n          break;\n\n        default:\n          break;\n      }\n\n      _this.setState(_defineProperty({\n        formErrors: formErrors\n      }, name, value));\n    };\n\n    _this.HandleLog = _this.HandleLog.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      firstName: null,\n      surname: null,\n      email: null,\n      username: null,\n      password: null,\n      confirmPassword: null,\n      formErrors: {\n        firstName: \" \",\n        surname: \" \",\n        email: \" \",\n        username: \" \",\n        password: \" \",\n        confirmPassword: \" \"\n      }\n    };\n    return _this;\n  }\n\n  _createClass(Register, [{\n    key: \"HandleLog\",\n    value: function HandleLog(event) {\n      event.preventDefault();\n      this.props.onClick();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var formErrors = this.state.formErrors;\n      return React.createElement(\"div\", {\n        className: \"regWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Register\"), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        noValidate: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"firstName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        placeholder: \"First Name\",\n        type: \"text\",\n        name: \"firstName\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, formErrors.firstName)), React.createElement(\"div\", {\n        className: \"surname\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        placeholder: \"surname\",\n        type: \"text\",\n        name: \"surname\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, formErrors.surname)), React.createElement(\"div\", {\n        className: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        placeholder: \"Email\",\n        type: \"email\",\n        name: \"email\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, formErrors.email)), React.createElement(\"div\", {\n        className: \"username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        placeholder: \"username\",\n        type: \"text\",\n        name: \"username\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, formErrors.username)), React.createElement(\"div\", {\n        className: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        placeholder: \"Password\",\n        type: \"password\",\n        name: \"password\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, formErrors.password)), React.createElement(\"div\", {\n        className: \"confirmPassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        placeholder: \"confirmPassword\",\n        type: \"Password\",\n        name: \"confirmPassword\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, formErrors.confirmPassword)), React.createElement(\"div\", {\n        className: \"createAccount\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"regSumbit\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Register\"), React.createElement(\"button\", {\n        className: \"regButton\",\n        onClick: this.HandleLog,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"small\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"Already Have an Account?\"))))));\n    }\n  }]);\n\n  return Register;\n}(Component);\n\nexport default Register;","map":{"version":3,"sources":["C:\\Users\\salah\\Desktop\\abdos-2018\\FrontEnd\\src\\components\\register\\register.js"],"names":["React","Component","passwordRegex","RegExp","emailRegex","formValid","formErrors","valid","Object","values","forEach","val","length","Register","props","handleSubmit","event","preventDefault","len","check","state","regDetails","firstName","surname","email","username","password","console","log","i","onRegister","setState","handleChange","target","name","value","test","confirmPassword","HandleLog","bind","onClick"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./register.css\";\r\n\r\n//regular expression\r\nconst passwordRegex = RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#%^&*.])(?=.{8,})/);\r\nconst emailRegex = RegExp(/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/);\r\n\r\nconst formValid = formErrors => {\r\n  let valid = true;\r\n\r\n  // check if theres as value in form error \r\n  Object.values(formErrors).forEach(val => {\r\n    if (val.length > 0) {\r\n      valid = false\r\n    }\r\n  });\r\n  return valid\r\n}\r\n\r\nclass Register extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.HandleLog = this.HandleLog.bind(this)\r\n\r\n    this.state = {\r\n      firstName: null,\r\n      surname: null,\r\n      email: null,\r\n      username: null,\r\n      password: null,\r\n      confirmPassword: null,\r\n      formErrors: {\r\n        firstName: \" \",\r\n        surname: \" \",\r\n        email: \" \",\r\n        username: \" \",\r\n        password: \" \",\r\n        confirmPassword: \" \"\r\n      }\r\n    };\r\n  }\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    let len = this.props.check.length;\r\n    let formErrors = this.state.formErrors;\r\n\r\n    const regDetails = [\r\n        {\r\n          firstName: this.state.firstName,\r\n          surname: this.state.surname,\r\n          email: this.state.email,\r\n          username: this.state.username,\r\n          password: this.state.password\r\n        }\r\n      ]\r\n\r\n    //sumbits registration details\r\n    if (formValid(this.state.formErrors)) {\r\n      console.log(this.props.check[0].username)\r\n      for (let i = 0; i < len; i++) {\r\n\r\n        if (this.props.check[i].username === this.state.username) {\r\n          formErrors.username = \"This username aleady exist\"\r\n        }\r\n\r\n        if (this.props.check[i].email === this.state.email){\r\n          formErrors.email = \"User already exist with this email\"\r\n        }else{\r\n            console.log(regDetails)\r\n            this.props.onRegister(regDetails);\r\n        }\r\n      }\r\n\r\n    }\r\n    this.setState({ formErrors});\r\n  };\r\n\r\n  handleChange = event => {\r\n    event.preventDefault();\r\n    const { name, value } = event.target;\r\n\r\n    let formErrors = this.state.formErrors;\r\n\r\n    switch (name) {\r\n      case 'firstName':\r\n        formErrors.firstName = value.length === 0 ? ' Please enter your first name ' : \"\";\r\n        break;\r\n      case 'surname':\r\n        formErrors.surname = value.length === 0 ? ' Please enter your surname ' : \"\";\r\n        break;\r\n      case 'email':\r\n        formErrors.email = emailRegex.test(value) ? '' : \"Please enter your email\";\r\n        break;\r\n      case 'username':\r\n        formErrors.username = value.length < 5 ? ' Username must be greater than 5 characters ' : \"\";\r\n        break;\r\n      case 'password':\r\n        formErrors.password = passwordRegex.test(value) ? '' : \" Password must contain 1 upper case, 1 lower case , 1 number, 1 special character and must be greater than 8 \";\r\n        break;\r\n      case 'confirmPassword':\r\n        formErrors.confirmPassword = value === this.state.password ? '' : \"Your passwords do not match \";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    this.setState({ formErrors, [name]: value });\r\n  }\r\n\r\n  HandleLog(event) {\r\n    event.preventDefault();\r\n    this.props.onClick();\r\n  }\r\n\r\n  render() {\r\n\r\n    const{ formErrors} = this.state;\r\n\r\n    return (\r\n\r\n      <div className=\"regWrapper\">\r\n        <div className=\"form-wrapper\">\r\n          <h1>Register</h1>\r\n          <form onSubmit={this.handleSubmit} noValidate>\r\n            <div className=\"firstName\">\r\n              <input placeholder=\"First Name\" type=\"text\" name=\"firstName\" noValidate onChange={this.handleChange} />\r\n              <span className=\"errorMessage\">{formErrors.firstName}</span>\r\n            </div>\r\n            <div className=\"surname\">\r\n              <input placeholder=\"surname\" type=\"text\" name=\"surname\" noValidate onChange={this.handleChange} />\r\n              <span className=\"errorMessage\">{formErrors.surname}</span>\r\n            </div>\r\n            <div className=\"email\">\r\n              <input placeholder=\"Email\" type=\"email\" name=\"email\" noValidate onChange={this.handleChange} />\r\n              <span className=\"errorMessage\">{formErrors.email}</span>\r\n            </div>\r\n            <div className=\"username\">\r\n              <input placeholder=\"username\" type=\"text\" name=\"username\" noValidate onChange={this.handleChange} />\r\n              <span className=\"errorMessage\">{formErrors.username}</span>\r\n            </div>\r\n            <div className=\"password\">\r\n              <input placeholder=\"Password\" type=\"password\" name=\"password\" noValidate onChange={this.handleChange} />\r\n              <span className=\"errorMessage\">{formErrors.password}</span>\r\n            </div>\r\n            <div className=\"confirmPassword\">\r\n              <input placeholder=\"confirmPassword\" type=\"Password\" name=\"confirmPassword\" noValidate onChange={this.handleChange} />\r\n              <span className=\"errorMessage\">{formErrors.confirmPassword}</span>\r\n            </div>\r\n            <div className=\"createAccount\">\r\n              <button className=\"regSumbit\" type=\"submit\">Register</button>\r\n              <button className=\"regButton\" onClick={this.HandleLog}><small>Already Have an Account?</small></button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}