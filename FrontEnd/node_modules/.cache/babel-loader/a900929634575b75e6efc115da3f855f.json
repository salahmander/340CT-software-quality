{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\salah\\\\Desktop\\\\abdos-2018\\\\FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\salah\\\\Desktop\\\\abdos-2018\\\\FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\salah\\\\Desktop\\\\abdos-2018\\\\FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\salah\\\\Desktop\\\\abdos-2018\\\\FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\salah\\\\Desktop\\\\abdos-2018\\\\FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\salah\\\\Desktop\\\\abdos-2018\\\\FrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\salah\\\\Desktop\\\\abdos-2018\\\\FrontEnd\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport Login from './components/login/login';\nimport Register from './components/register/register';\nimport Custom from './components/customisation/custom';\nimport Header from './components/header/header';\nimport ComputerGrids from './components/computerSelect/computerGrids';\nimport ItemGrids from './components/itemListGrid/itemGrids';\nimport Home from './components/home/home';\nimport PurchaseConfirmation from './components/confirmation/purchaseConfirmation';\nimport LaptopType from './components/computerSelect/laptopType';\nimport DesktopType from './components/computerSelect/desktopType';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  //model of la\n  //type of laptop or desktop\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.modelInfo = [];\n    _this.computerInfo = [];\n    _this.state = {\n      currentView: \"home\",\n      computerData: [],\n      checkUser: [],\n      userIdentification: null,\n      loginError: false,\n      signedIn: false\n    };\n    _this.handleThumbnailClicked = _this.handleThumbnailClicked.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleComputerType = _this.handleComputerType.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleLoginClicked = _this.handleLoginClicked.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleGoToReg = _this.handleGoToReg.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleDesktopClick = _this.handleDesktopClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleLaptopClick = _this.handleLaptopClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleHomeClick = _this.handleHomeClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePurchase = _this.handlePurchase.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleRegestration = _this.handleRegestration.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleLoginAuth = _this.handleLoginAuth.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleLogout = _this.handleLogout.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"handleThumbnailClicked\",\n    value: function handleThumbnailClicked(key) {\n      if (this.state.signedIn) {\n        console.log(\"item with id:\" + key + \" was clicked\");\n        if (this.state.currentView !== \"itemList\") return;\n        this.setState({\n          currentView: \"itemView\"\n        });\n        var len = this.state.computerData.length;\n        this.modelInfo = [];\n        this.computerInfo = [];\n\n        for (var i = 0; i < len; i++) {\n          if (this.state.computerData[i].computerID === key) {\n            this.modelInfo.push(this.state.computerData[i]);\n          }\n        }\n      } else {\n        this.setState({\n          currentView: \"login\"\n        });\n      }\n    }\n  }, {\n    key: \"handleComputerType\",\n    value: function handleComputerType(computerType, computerDevice) {\n      console.log(\"item with id:\" + computerType + \" was clicked\");\n      console.log(\"app \" + computerDevice);\n      if (this.state.currentView !== \"laptop\" && this.state.currentView !== \"desktop\") return;\n      this.setState({\n        currentView: \"itemList\"\n      });\n      var len = this.state.computerData.length;\n      this.computerInfo = [];\n      this.modelInfo = [];\n\n      for (var i = 0; i < len; i++) {\n        if (this.state.computerData[i].type === computerType && this.state.computerData[i].device === computerDevice) {\n          this.computerInfo.push(this.state.computerData[i]);\n        }\n      }\n    }\n  }, {\n    key: \"handleLoginClicked\",\n    value: function handleLoginClicked() {\n      if (this.state.signedIn) {\n        this.setState({\n          currentView: \"home\"\n        });\n      } else {\n        this.setState({\n          currentView: \"login\"\n        });\n      }\n    }\n  }, {\n    key: \"handleLogout\",\n    value: function handleLogout() {\n      this.setState({\n        signedIn: false\n      });\n      this.setState({\n        currentView: \"home\"\n      });\n    }\n  }, {\n    key: \"handleGoToReg\",\n    value: function handleGoToReg() {\n      if (this.state.signedIn) {\n        this.setState({\n          currentView: \"home\"\n        });\n      } else {\n        this.setState({\n          currentView: \"register\"\n        });\n      }\n    }\n  }, {\n    key: \"handleDesktopClick\",\n    value: function handleDesktopClick() {\n      this.setState({\n        currentView: \"desktop\"\n      });\n    }\n  }, {\n    key: \"handleLaptopClick\",\n    value: function handleLaptopClick() {\n      this.setState({\n        currentView: \"laptop\"\n      });\n    }\n  }, {\n    key: \"handleHomeClick\",\n    value: function handleHomeClick() {\n      this.setState({\n        currentView: \"home\"\n      });\n    }\n  }, {\n    key: \"handlePurchase\",\n    value: function handlePurchase(itemDetail) {\n      this.modelInfo = [];\n      this.computerInfo = [];\n      this.setState({\n        currentView: \"confirmation\"\n      });\n      console.log(itemDetail);\n      fetch('http://localhost:5000/api/v1.0/purchase', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          userID: this.state.userIdentification,\n          title: itemDetail[0].title,\n          device: itemDetail[0].device,\n          type: itemDetail[0].type,\n          CPU: itemDetail[0].CPU,\n          RAM: itemDetail[0].RAM,\n          GPU: itemDetail[0].GPU,\n          storage: itemDetail[0].storage,\n          size: itemDetail[0].size,\n          price: itemDetail[0].price\n        })\n      });\n    }\n  }, {\n    key: \"handleRegestration\",\n    value: function handleRegestration(regDetials) {\n      this.modelInfo = [];\n      this.computerInfo = [];\n      this.setState({\n        currentView: \"login\"\n      });\n      console.log(regDetials);\n      fetch('http://localhost:5000/api/v1.0/users', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          firstName: regDetials[0].firstName,\n          surname: regDetials[0].surname,\n          email: regDetials[0].email,\n          username: regDetials[0].username,\n          password: regDetials[0].password\n        })\n      });\n    }\n  }, {\n    key: \"handleLoginAuth\",\n    value: function handleLoginAuth(loginData) {\n      var _this2 = this;\n\n      console.log(\"app\");\n      console.log(loginData.username);\n      console.log(\"----\");\n      axios.post('http://localhost:5000/api/v1.0/login', {}, {\n        headers: {\n          'Access-Control-Allow-Origin': '*',\n          'Content-Type': 'application/json',\n          'Authorization': 'Basic ' + window.btoa(loginData.username + ':' + loginData.password)\n        }\n      }).then(function (res) {\n        if (res.status === 200) {\n          //data = res.data\n          _this2.setState({\n            userIdentification: res.data\n          });\n\n          _this2.setState({\n            signedIn: true\n          });\n\n          _this2.setState({\n            currentView: \"home\"\n          });\n\n          console.log(object.keys(_this2.state.userIdentification)[0]);\n        }\n      }).catch(function (error) {\n        console.log(error);\n        console.log(\"error\");\n\n        _this2.setState({\n          loginError: true\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      fetch('/api/v1.0/computers').then(function (res) {\n        return res.json();\n      }).then(function (computerData) {\n        return _this3.setState({\n          computerData: computerData\n        }, function () {\n          return console.log(\"Item fetched... \", computerData);\n        });\n      });\n      fetch('/api/v1.0/users').then(function (res) {\n        return res.json();\n      }).then(function (checkUser) {\n        return _this3.setState({\n          checkUser: checkUser\n        }, function () {\n          return console.log(\"Item fetched... \", checkUser);\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var whatToRender;\n\n      if (this.state.currentView === \"itemList\") {\n        whatToRender = React.createElement(ItemGrids, {\n          items: this.computerInfo,\n          onClick: this.handleThumbnailClicked,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        });\n      } else if (this.state.currentView === \"laptop\") {\n        whatToRender = React.createElement(ComputerGrids, {\n          items: LaptopType.items,\n          onClick: this.handleComputerType,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        });\n      } else if (this.state.currentView === \"desktop\") {\n        whatToRender = React.createElement(ComputerGrids, {\n          items: DesktopType.items,\n          onClick: this.handleComputerType,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236\n          },\n          __self: this\n        });\n      } else if (this.state.currentView === \"itemView\") {\n        whatToRender = React.createElement(Custom, {\n          theDevice: this.modelInfo,\n          onClick: this.handlePurchase,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239\n          },\n          __self: this\n        });\n      } else if (this.state.currentView === \"login\") {\n        whatToRender = React.createElement(Login, {\n          onClick: this.handleGoToReg,\n          onSumbit: this.handleLoginAuth,\n          loginError: this.state.loginError,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242\n          },\n          __self: this\n        });\n      } else if (this.state.currentView === \"register\") {\n        whatToRender = React.createElement(Register, {\n          check: this.state.checkUser,\n          onClick: this.handleLoginClicked,\n          onRegister: this.handleRegestration,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245\n          },\n          __self: this\n        });\n      } else if (this.state.currentView === \"home\") {\n        whatToRender = React.createElement(Home, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248\n          },\n          __self: this\n        });\n      } else if (this.state.currentView === \"confirmation\") {\n        whatToRender = React.createElement(PurchaseConfirmation, {\n          onClick: this.handleHomeClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(Header, {\n        onClick: this.handleLoginClicked,\n        onDesktopClick: this.handleDesktopClick,\n        onLaptopClick: this.handleLaptopClick,\n        onHomeClick: this.handleHomeClick,\n        signedIn: this.state.signedIn,\n        onLogoutClick: this.handleLogout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }), whatToRender);\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["C:\\Users\\salah\\Desktop\\abdos-2018\\FrontEnd\\src\\App.js"],"names":["React","Component","axios","Login","Register","Custom","Header","ComputerGrids","ItemGrids","Home","PurchaseConfirmation","LaptopType","DesktopType","App","props","modelInfo","computerInfo","state","currentView","computerData","checkUser","userIdentification","loginError","signedIn","handleThumbnailClicked","bind","handleComputerType","handleLoginClicked","handleGoToReg","handleDesktopClick","handleLaptopClick","handleHomeClick","handlePurchase","handleRegestration","handleLoginAuth","handleLogout","key","console","log","setState","len","length","i","computerID","push","computerType","computerDevice","type","device","itemDetail","fetch","method","headers","body","JSON","stringify","userID","title","CPU","RAM","GPU","storage","size","price","regDetials","firstName","surname","email","username","password","loginData","post","window","btoa","then","res","status","data","object","keys","catch","error","json","whatToRender","items"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './App.css';\r\nimport axios from 'axios'\r\n\r\nimport Login from './components/login/login';\r\nimport Register from './components/register/register';\r\nimport Custom from './components/customisation/custom';\r\nimport Header from './components/header/header';\r\nimport ComputerGrids from './components/computerSelect/computerGrids';\r\nimport ItemGrids from './components/itemListGrid/itemGrids';\r\nimport Home from './components/home/home';\r\nimport PurchaseConfirmation from './components/confirmation/purchaseConfirmation'\r\n\r\n\r\nimport LaptopType from './components/computerSelect/laptopType';\r\nimport DesktopType from './components/computerSelect/desktopType';\r\n\r\n\r\nclass App extends Component {\r\n\r\n  modelInfo = []; //model of la\r\n  computerInfo = [] //type of laptop or desktop\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      currentView: \"home\",\r\n      computerData: [],\r\n      checkUser: [],\r\n      userIdentification: null,\r\n      loginError: false,\r\n      signedIn: false\r\n    };\r\n\r\n    this.handleThumbnailClicked = this.handleThumbnailClicked.bind(this);\r\n    this.handleComputerType = this.handleComputerType.bind(this);\r\n    this.handleLoginClicked = this.handleLoginClicked.bind(this);\r\n    this.handleGoToReg = this.handleGoToReg.bind(this);\r\n    this.handleDesktopClick = this.handleDesktopClick.bind(this);\r\n    this.handleLaptopClick = this.handleLaptopClick.bind(this);\r\n    this.handleHomeClick = this.handleHomeClick.bind(this);\r\n    this.handlePurchase = this.handlePurchase.bind(this);\r\n    this.handleRegestration = this.handleRegestration.bind(this);\r\n    this.handleLoginAuth = this.handleLoginAuth.bind(this);\r\n    this.handleLogout = this.handleLogout.bind(this);\r\n  }\r\n\r\n  handleThumbnailClicked(key) {\r\n    if (this.state.signedIn) {\r\n\r\n      console.log(\"item with id:\" + key + \" was clicked\");\r\n\r\n      if (this.state.currentView !== \"itemList\")\r\n        return;\r\n\r\n      this.setState({ currentView: \"itemView\" });\r\n      let len = this.state.computerData.length;\r\n      this.modelInfo = []\r\n      this.computerInfo = []\r\n\r\n      for (let i = 0; i < len; i++) {\r\n\r\n        if (this.state.computerData[i].computerID === key) {\r\n          this.modelInfo.push(this.state.computerData[i]);\r\n        }\r\n      }\r\n    }else{\r\n      this.setState({ currentView: \"login\" });\r\n    }\r\n\r\n  }\r\n\r\n  handleComputerType(computerType, computerDevice) {\r\n\r\n    console.log(\"item with id:\" + computerType + \" was clicked\");\r\n    console.log(\"app \" + computerDevice)\r\n\r\n    if (this.state.currentView !== \"laptop\" && this.state.currentView !== \"desktop\")\r\n      return;\r\n\r\n    this.setState({ currentView: \"itemList\" });\r\n    let len = this.state.computerData.length;\r\n    this.computerInfo = []\r\n    this.modelInfo = []\r\n\r\n    for (let i = 0; i < len; i++) {\r\n\r\n      if (this.state.computerData[i].type === computerType && this.state.computerData[i].device === computerDevice) {\r\n        this.computerInfo.push(this.state.computerData[i]);\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  handleLoginClicked() {\r\n    if (this.state.signedIn) {\r\n      this.setState({ currentView: \"home\" });\r\n    } else {\r\n      this.setState({ currentView: \"login\" });\r\n    }\r\n  }\r\n\r\n  handleLogout(){\r\n    this.setState({ signedIn: false })\r\n    this.setState({ currentView: \"home\" });\r\n  }\r\n\r\n  handleGoToReg() {\r\n    if (this.state.signedIn) {\r\n      this.setState({ currentView: \"home\" });\r\n    } else {\r\n      this.setState({ currentView: \"register\" });\r\n    }\r\n  }\r\n\r\n  handleDesktopClick() {\r\n    this.setState({ currentView: \"desktop\" });\r\n  }\r\n\r\n  handleLaptopClick() {\r\n    this.setState({ currentView: \"laptop\" });\r\n  }\r\n\r\n  handleHomeClick() {\r\n    this.setState({ currentView: \"home\" });\r\n  }\r\n\r\n\r\n  handlePurchase(itemDetail) {\r\n    this.modelInfo = []\r\n    this.computerInfo = []\r\n\r\n    this.setState({ currentView: \"confirmation\" });\r\n    console.log(itemDetail)\r\n\r\n    fetch('http://localhost:5000/api/v1.0/purchase', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        userID: this.state.userIdentification,\r\n        title: itemDetail[0].title,\r\n        device: itemDetail[0].device,\r\n        type: itemDetail[0].type,\r\n        CPU: itemDetail[0].CPU,\r\n        RAM: itemDetail[0].RAM,\r\n        GPU: itemDetail[0].GPU,\r\n        storage: itemDetail[0].storage,\r\n        size: itemDetail[0].size,\r\n        price: itemDetail[0].price\r\n      })\r\n    })\r\n  }\r\n\r\n  handleRegestration(regDetials) {\r\n    this.modelInfo = []\r\n    this.computerInfo = []\r\n\r\n    this.setState({ currentView: \"login\" });\r\n    console.log(regDetials)\r\n\r\n    fetch('http://localhost:5000/api/v1.0/users', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        firstName: regDetials[0].firstName,\r\n        surname: regDetials[0].surname,\r\n        email: regDetials[0].email,\r\n        username: regDetials[0].username,\r\n        password: regDetials[0].password\r\n      })\r\n    })\r\n\r\n  }\r\n\r\n  handleLoginAuth(loginData) {\r\n    console.log(\"app\")\r\n    console.log(loginData.username)\r\n    console.log(\"----\")\r\n    axios.post('http://localhost:5000/api/v1.0/login', {\r\n    }, {\r\n        headers: {\r\n          'Access-Control-Allow-Origin': '*',\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Basic ' + window.btoa(loginData.username + ':' + loginData.password)\r\n        }\r\n      }).then(res => {\r\n        if (res.status === 200) {\r\n          //data = res.data\r\n          this.setState({ userIdentification: res.data })\r\n          this.setState({ signedIn: true })\r\n          this.setState({ currentView: \"home\" });\r\n          console.log(object.keys(this.state.userIdentification)[0])\r\n        }\r\n\r\n      }).catch((error) => {\r\n        console.log(error)\r\n        console.log(\"error\")\r\n        this.setState({ loginError: true })\r\n      });\r\n\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n\r\n    fetch('/api/v1.0/computers')\r\n      .then(res => res.json())\r\n      .then(computerData => this.setState({ computerData }, () => console.log(`Item fetched... `,\r\n        computerData)))\r\n\r\n    fetch('/api/v1.0/users')\r\n      .then(res => res.json())\r\n      .then(checkUser => this.setState({ checkUser }, () => console.log(`Item fetched... `,\r\n        checkUser)))\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    let whatToRender;\r\n\r\n    if (this.state.currentView === \"itemList\") {\r\n      whatToRender = <ItemGrids items={this.computerInfo} onClick={this.handleThumbnailClicked} />\r\n    }\r\n    else if (this.state.currentView === \"laptop\") {\r\n      whatToRender = <ComputerGrids items={LaptopType.items} onClick={this.handleComputerType} />\r\n    }\r\n    else if (this.state.currentView === \"desktop\") {\r\n      whatToRender = <ComputerGrids items={DesktopType.items} onClick={this.handleComputerType} />\r\n    }\r\n    else if (this.state.currentView === \"itemView\") {\r\n      whatToRender = <Custom theDevice={this.modelInfo} onClick={this.handlePurchase} />\r\n    }\r\n    else if (this.state.currentView === \"login\") {\r\n      whatToRender = <Login onClick={this.handleGoToReg} onSumbit={this.handleLoginAuth} loginError={this.state.loginError} />\r\n    }\r\n    else if (this.state.currentView === \"register\") {\r\n      whatToRender = <Register check={this.state.checkUser} onClick={this.handleLoginClicked} onRegister={this.handleRegestration} />\r\n    }\r\n    else if (this.state.currentView === \"home\") {\r\n      whatToRender = <Home />\r\n    }\r\n    else if (this.state.currentView === \"confirmation\") {\r\n      whatToRender = <PurchaseConfirmation onClick={this.handleHomeClick} />\r\n    }\r\n\r\n\r\n    return (\r\n      <div>\r\n        <Header onClick={this.handleLoginClicked} onDesktopClick={this.handleDesktopClick} onLaptopClick={this.handleLaptopClick} onHomeClick={this.handleHomeClick} signedIn={this.state.signedIn} onLogoutClick={this.handleLogout}/>\r\n        {whatToRender}\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}